<section>
  <h2>Liste des mesures</h2>

  @if (measures.length === 0) {
    <p>Aucune mesure.</p>
  }
  @else {
    <ul>
      <li>
        <div>
          <p>Nom</p>
          <p>Unit√© de mesure</p>
        </div>

        <p>Actions</p>
      </li>

      @for (measure of measures; track $index) {
        <li>
          <div>
            @if (measureToUpdateId === measure.id) {
              <input type="text" [(ngModel)]="measureToUpdateName" [maxlength]="50" />
              <input type="text" [(ngModel)]="measureToUpdateUnit" [maxlength]="10" />
            }
            @else {
              <p>{{ measure.measure_name }}</p>
              <p>{{ measure.unit }}</p>
            }
          </div>

          <div class="actions">
            @if (measureToUpdateId === measure.id) {
              <button class="confirm_update" (click)="confirmUpdate()">
                <lucide-icon name="check" [size]="18" [strokeWidth]="3"></lucide-icon>
              </button>
            }
            @else {
              <button (click)="toggleUpdate(measure.id)">
                <lucide-icon name="pencil" [size]="18"></lucide-icon>
              </button>
            }
          </div>
        </li>
      }
    </ul>
  }
</section>
